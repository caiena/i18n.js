{"version":3,"file":"i18n.cjs.js","sources":["../src/mixin.js","../src/mixins/sentence.js","../src/mixins/fix_localize.js","../src/mixins/init.js","../src/i18n.js","../src/config/i18n/translations.js"],"sourcesContent":["import _ from '@caiena/lodash-ext'\n\n\nfunction mixin(obj, mixins) {\n  return mixins.reduce((mixedObj, mixinFn) => mixinFn(mixedObj), obj)\n}\n\n\nexport default mixin\n","import _ from '@caiena/lodash-ext'\n\n\nfunction Sentence(i18n) {\n\n  /**\n   * Concatenates multiple words (strings) building a sentence with connectors (',' or 'and')\n   *\n   * @param  {Array}  values        words (strings) to be concatenated as a sentence\n   * @return {String}               the resulting sentence\n   */\n  i18n.toSentence = function toSentence(values) {\n    switch (values.length) {\n      case 0: return ''\n      case 1: return values[0]\n      case 2: {\n        let connector = i18n.t('support.array.two_words_connector')\n        return `${values[0]}${connector}${values[1]}`\n      }\n      default: {\n        let valuesButLast = values.slice(0, values.length - 1)\n        let lastValue = values.slice(-1)\n\n        let connector = i18n.t('support.array.words_connector')\n        let lastConnector = i18n.t('support.array.last_word_connector')\n\n        let sentence = `${valuesButLast.join(connector)}`\n        sentence += `${lastConnector}${lastValue}`\n\n        return sentence\n      }\n    }\n  }\n\n\n/*\nsupport:\n    array:\n      last_word_connector: \", and \"\n      two_words_connector: \" and \"\n      words_connector: \", \"\n */\n\n  return i18n\n}\n\nexport default Sentence\n","\nfunction FixLocalize(i18n) {\n\n  // Overriding i18n.localize() to fix arguments forwarding to methods `toCurrency()`, `toNumber()`\n  // and `toPercentage()`.\n  //   - TODO: verify if it's still needed, since i18n-js has been updated.\n  //     https://github.com/fnando/i18n-js\n  i18n.__original_localize = i18n.localize\n  i18n.localize = function overridenLocalize(scope, value, opts) {\n    let options = opts || {}\n\n    switch (scope) {\n      case 'currency':\n        return this.toCurrency(value, options)\n      case 'number':\n        return this.toNumber(value, options)\n      case 'percentage':\n        return this.toPercentage(value, options)\n      default:\n        // default implementation\n        return this.__original_localize(scope, value, options)\n    }\n  }\n\n  // XXX updating alias, since we are overriding the method\n  i18n.l = i18n.localize\n\n  return i18n\n}\n\nexport default FixLocalize\n","import _ from '@caiena/lodash-ext'\n\n\nfunction Init(i18n) {\n\n  i18n.init = function init({ locales, defaultLocale = null, translations } = {}) {\n    // initializing i18n module\n    i18n.availableLocales = locales\n    i18n.defaultLocale = defaultLocale || locales[0]\n    i18n.locale = defaultLocale\n\n    // merging translations\n    _.merge(i18n.translations, translations)\n  }\n\n  return i18n\n}\n\n\nexport default Init\n","import _     from '@caiena/lodash-ext'\nimport _i18n from 'i18n-js'\nimport mixin from './mixin'\n\nimport Sentence    from './mixins/sentence'\nimport FixLocalize from './mixins/fix_localize'\nimport Init        from './mixins/init'\n\n\nconst i18n = mixin(_i18n, [\n  Sentence,\n  FixLocalize,\n  Init\n])\n\n\nexport default i18n\n","import _ from '@caiena/lodash-ext'\nimport * as contents from './*.yml'\nimport * as namespacedContents from './**/*.yml'\n\n\nconst translations = {}\n\n_.each(contents, (content, _id) => { _.merge(translations, content) })\n_.each(namespacedContents, (content, _id) => { _.merge(translations, content) })\n\n\nexport default translations\n"],"names":["mixin","obj","mixins","reduce","mixedObj","mixinFn","Sentence","i18n","toSentence","values","length","connector","t","valuesButLast","slice","lastValue","lastConnector","sentence","join","FixLocalize","__original_localize","localize","overridenLocalize","scope","value","opts","options","toCurrency","toNumber","toPercentage","l","Init","init","locales","defaultLocale","translations","availableLocales","locale","_","merge","_i18n","each","contents","content","_id","namespacedContents"],"mappings":"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"}